# ==================================================
# TERRA ORDER & TRANSACTION SERVICE CONFIGURATION
# Service spécifique: Gestion des commandes et transactions
# ==================================================

# =======================
# SERVICE IDENTIFICATION
# =======================
service.name=terra-order-transaction-service
service.version=1.0.0
service.description=Microservice de gestion des commandes et transactions financières

# =======================
# port
# =======================
server.port=8086
# =======================
# ORDER CONFIGURATION
# =======================
# Statuts des commandes
order.status.pending=PENDING
order.status.confirmed=CONFIRMED
order.status.paid=PAID
order.status.in_delivery=IN_DELIVERY
order.status.delivered=DELIVERED
order.status.completed=COMPLETED
order.status.cancelled=CANCELLED

# Configuration des commandes
order.autoconfirm.enabled=false
order.expiration.hours=24
order.max.items.per.order=20
order.auto.cancel.unpaid.hours=24

# Numérotation des commandes
order.number.prefix=TRB
order.number.format=TRB{timestamp}{uuid4}

# =======================
# TRANSACTION CONFIGURATION
# =======================
# Types de transactions
transaction.type.payment=PAYMENT
transaction.type.refund=REFUND
transaction.type.commission=COMMISSION
transaction.type.payout=PAYOUT

# Méthodes de paiement
transaction.payment.method.mobile_money=MOBILE_MONEY
transaction.payment.method.orange_money=ORANGE_MONEY
transaction.payment.method.mtn_momo=MTN_MOMO
transaction.payment.method.cash=CASH
transaction.payment.method.bank_transfer=BANK_TRANSFER

# Statuts des transactions
transaction.status.pending=PENDING
transaction.status.processing=PROCESSING
transaction.status.success=SUCCESS
transaction.status.failed=FAILED
transaction.status.reversed=REVERSED

# Configuration des transactions
transaction.reference.prefix=TXN
transaction.max.retry.attempts=3
transaction.retry.delay.seconds=30

# =======================
# PAYMENT CONFIGURATION
# =======================
# Simulation de paiement (pour le développement)
payment.simulation.enabled=true
payment.simulation.success.rate=0.95
payment.simulation.delay.seconds=2

# Frais de plateforme (en pourcentage)
platform.commission.rate=5.0

# Délais de paiement
payment.timeout.minutes=30
payment.confirmation.required=true

# =======================
# DELIVERY CONFIGURATION
# =======================
# Calcul des frais de livraison
delivery.base.fee=500
delivery.distance.rate=100
delivery.free.threshold=10000

# Délais de livraison
delivery.estimated.hours.min=2
delivery.estimated.hours.max=6

# =======================
# STOCK MANAGEMENT
# =======================
stock.reservation.enabled=true
stock.reservation.duration.minutes=30
stock.auto.release.enabled=true

# =======================
# NOTIFICATIONS CONFIG
# =======================
notification.order.created.enabled=true
notification.order.paid.enabled=true
notification.order.cancelled.enabled=true
notification.order.delivered.enabled=true
notification.payment.failed.enabled=true

# =======================
# RABBITMQ EVENTS
# =======================
# Événements publiés par ce service
event.order.created=order.created
event.order.paid=order.paid
event.order.cancelled=order.cancelled
event.order.status.updated=order.status.updated
event.transaction.created=transaction.created
event.transaction.completed=transaction.completed

# Queues écoutées par ce service
queue.order.payments=order_payments_queue
queue.order.notifications=order_notifications_queue

# =======================
# DATABASE CONFIGURATION
# =======================
# Tables spécifiques au service
database.table.orders=orders
database.table.order_items=order_items
database.table.transactions=transactions
database.table.payment_attempts=payment_attempts
database.table.pending_events=pending_events

# =======================
# SECURITY CONFIGURATION
# =======================
# JWT pour l'authentification inter-services
jwt.service.secret=terra-order-service-secret-2024
jwt.service.expiration.hours=24

# API Keys pour les services externes
api.key.payment.provider=payment_provider_key_placeholder
api.key.notification.service=notification_service_key_placeholder

# =======================
# LOGGING CONFIGURATION
# =======================
# Logs spécifiques au service
logging.level.order.service=DEBUG
logging.level.transaction.service=DEBUG
logging.level.payment.service=DEBUG

# Fichiers de log spécifiques
logging.file.order=logs/order-service.log
logging.file.transaction=logs/transaction-service.log
logging.file.payment=logs/payment-service.log

# =======================
# PERFORMANCE CONFIG
# =======================
# Limites pour éviter les abus
order.rate.limit.per.user=10
order.rate.limit.per.hour=100
transaction.rate.limit.per.user=5
payment.rate.limit.per.user=3

# Timeouts des appels API
api.timeout.seconds=30
external.service.timeout.seconds=60

# =======================
# FEATURE FLAGS
# =======================
# Fonctionnalités activables/désactivables
feature.multi.currency.enabled=false
feature.advanced.reporting.enabled=false
feature.bulk.operations.enabled=true
feature.real.time.tracking.enabled=true
feature.automatic.refunds.enabled=true

# =======================
# CURRENCY CONFIG
# =======================
default.currency=XAF
supported.currencies=XAF,XOF,EUR,USD
currency.conversion.enabled=false

# =======================
# AUDIT CONFIGURATION
# =======================
audit.trail.enabled=true
audit.retention.days=90
audit.sensitive.data.masking=true

# =======================
# HEALTH CHECK CONFIG
# =======================
health.check.timeout.seconds=10
health.database.enabled=true
health.rabbitmq.enabled=true
health.redis.enabled=true